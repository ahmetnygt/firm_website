extends layout

block content
    .container.py-5
        .row.g-4
            // SOL KOLON: ÖZET KART
            .col-lg-4
                .card.border-0.shadow-sm.h-100
                    .card-body.text-center.p-4
                        .mb-3
                            .bg-primary.text-white.rounded-circle.d-inline-flex.align-items-center.justify-content-center(style="width: 80px; height: 80px; font-size: 2rem;")
                                i.bi.bi-person-fill
                        h5.fw-bold.mb-1= user.name + ' ' + user.surname
                        p.text-muted.small Üyelik Bilgilerim
                        hr.my-4
                        .text-start
                            .mb-3
                                small.text-muted.d-block T.C. Kimlik No
                                span.fw-medium= user.idNumber
                            .mb-3
                                small.text-muted.d-block Telefon
                                span.fw-medium= user.phoneNumber
                            .mb-3
                                small.text-muted.d-block 
                                    if user.pointOrPercent == 'point'
                                        | Puan Miktarı 
                                    else
                                        | İndirim Yüzdesi 
                                if user.pointOrPercent == 'point'
                                    span.fw-medium= user.point_amount
                                else
                                    span.fw-medium= user.percent
                            .mb-0
                                small.text-muted.d-block Üyelik Tarihi
                                span.fw-medium= new Date(user.createdAt).toLocaleDateString('tr-TR')

            // SAĞ KOLON: GÜNCELLEME FORMU
            .col-lg-8
                .card.border-0.shadow-sm.h-100
                    .card-header.bg-white.py-3
                        h5.mb-0.fw-bold Bilgilerimi Güncelle
                    .card-body.p-4
                        form#profileForm
                            .row.g-3
                                .col-md-6
                                    label.form-label Ad
                                    input.form-control(type="text" name="name" value=user.name required)
                                .col-md-6
                                    label.form-label Soyad
                                    input.form-control(type="text" name="surname" value=user.surname required)

                                .col-md-6
                                    label.form-label E-Posta
                                    input.form-control(type="email" name="email" value=user.email placeholder="ornek@email.com")

                                .col-md-6
                                    label.form-label Cinsiyet
                                    select.form-select(name="gender")
                                        option(value="m" selected=user.gender==='m') Erkek
                                        option(value="f" selected=user.gender==='f') Kadın

                                .col-12
                                    hr.my-3
                                    h6.fw-bold.text-primary
                                        i.bi.bi-shield-lock.me-2
                                        | Şifre Değiştir
                                    p.text-muted.small.mb-3 (Sadece değiştirmek istiyorsanız doldurun)

                                .col-md-6
                                    label.form-label Yeni Şifre
                                    input.form-control(type="password" name="password" placeholder="******")
                                .col-md-6
                                    label.form-label Yeni Şifre (Tekrar)
                                    input.form-control(type="password" name="passwordConfirm" placeholder="******")

                                .col-12.mt-4.d-flex.justify-content-end
                                    button.btn.btn-primary.btn-lg(type="submit")
                                        i.bi.bi-save.me-2
                                        | Değişiklikleri Kaydet

block js
    script(src="/js/profile.js")