extends layout

block content
    // 3) HERO
    section.hero.position-relative.text-white
        .hero-bg
            picture
                source(media="(min-width:992px)" srcset="/images/hero-bg.webp" type="image/webp")
                source(media="(min-width:768px)" srcset="/images/hero-bg.webp" type="image/webp")
                source(srcset="/images/hero-bg.webp" type="image/webp")
                img.img-fluid.w-100.h-100.object-fit-cover(
                    src="/images/hero-bg.webp"
                    alt="Bus journey"
                    loading="lazy")
            .hero-overlay
        .container.h-100.position-relative.py-4
            .row.h-100.align-items-center
                .col-lg-5
                    .card.shadow-lg.rounded-4.p-4
                        h1.h4.mb-3 Start your journey!
                        #searchForm
                            .row.g-2.mb-3
                                .col-md-6
                                    label.form-label(for="from") Departure
                                    .searchable-select
                                        select.form-select#from(required)
                                            //- option(value="") Select
                                            each c in cities
                                                option(value=c.placeId)= c.title
                                .col-md-6
                                    label.form-label(for="to") Arrival
                                    .searchable-select
                                        select.form-select#to(required)
                                            //- option(value="") Select
                                            each c in cities
                                                option(value=c.placeId)= c.title
                            .row.g-2.mb-3
                                .col-md-8
                                    label.form-label(for="date") Date
                                    .input-group
                                        input.form-control#date(type="text" required)
                                        span.input-group-text
                                            i.bi.bi-calendar3
                                .col-md-4.d-flex.align-items-end
                                    .btn-group.w-100
                                        button.btn.btn-sm.btn-outline-secondary.today(type="button") Today
                                        button.btn.btn-sm.btn-outline-secondary.tomorrow(type="button") Tomorrow
                            .d-grid
                                button.btn.btn-primary.btn-lg(type="submit") Search trips
                        if tenant.isGooglePlay || tenant.isAppStore
                            .mt-3.text-center
                                small.text-muted Download our app
                                .mt-2
                                    if tenant.isGooglePlay
                                        a.me-2(href="#" aria-label="Google Play")
                                            i.bi.bi-google-play.me-1
                                            | Google Play
                                    if tenant.isAppStore
                                        a(href="#" aria-label="App Store")
                                            i.bi.bi-apple.me-1
                                            | App Store

    // 4) IN 4 STEPS
    section.py-5
        .container
            .row.text-center.mb-4
                .col
                    h2 Get your ticket in 4 steps
                    p.text-muted Quick and easy.
            .row.g-4
                each step, idx in steps
                    .col-6.col-md-3
                        .card.border-0.text-center.h-100
                            .card-body
                                .mb-3
                                    i.bi(class=step.icon style="font-size:2.5rem;color:var(--primary-color)")
                                h5.card-title= step.title
                                p.card-text.small Step #{idx+1}

    // 5) ROUTE CARDS
    section.py-5.bg-light
        .container
            h2.text-center.mb-4 Most popular routes
            .row.g-3
                - var routes = [{from:'Çanakkale',to:'İstanbul',img:'/images/route-1.png'},{from:'İstanbul',to:'Çorlu',img:'/images/route-2.png'},{from:'Çorlu',to:'İstanbul',img:'/images/route-3.png'},{from:'Bursa',to:'İstanbul',img:'/images/route-4.png'}]
                each r in routes
                    .col-md-6
                        a.card.text-white(position-relative href="#")
                            img.card-img.object-fit-cover.ratio-21-9(src=r.img alt=`${r.from} - ${r.to}` loading="lazy")
                            .card-img-overlay.d-flex.align-items-center.justify-content-center
                                .text-center
                                    h3.card-title= r.from + ' → ' + r.to

    // 6) POPULAR TRIPS – new design
    section.py-5.bg-light
        .container
            .text-center.mb-5
                h2 Popular trips
                p.text-muted Most frequently chosen routes
            .row.g-4
                if popularTrips
                    each pt, idx in popularTrips
                        .col-md-6.col-lg-4
                            .card.shadow-sm.h-100.card-pop
                                .card-body.d-flex.flex-column.position-relative
                                    .price-box.p-2.px-3.rounded-pill
                                        .fw-bold= pt.price + ' ₺'
                                    .d-flex.align-items-center.mb-3
                                        .flex-shrink-0
                                            .icon-box.rounded-circle.d-flex.align-items-center.justify-content-center
                                                i.bi.bi-bus-front.fs-4.text-white
                                        .ms-3
                                            .fw-bold.fs-5= pt.fromStr + ' → ' + pt.toStr
                                    .d-grid
                                        button.btn.btn-primary Buy ticket

    // 7) DESTINATION CHIPS
    section.py-5.bg-light
        .container
            h2.text-center.mb-4 Popular destinations
            .d-flex.flex-wrap.justify-content-center.gap-2
                each d in destinations
                    a.btn.btn-outline-primary.btn-sm(href="#")= d

    // 8) MEMBERSHIP CTA BANNER
    section.py-5.gtr-bg-secondary.text-white
        .container
            .row.align-items-center
                .col-md-7.mb-4.mb-md-0
                    h3 Become a member, don’t miss discounts!
                    p.mb-0 Subscribe to our newsletter and be the first to hear about special offers.
                .col-md-5.text-md-end
                    form.d-flex.flex-column.flex-sm-row.gap-2
                        input.form-control(type="email" placeholder="Your email address")
                        button.btn.btn-primary(type="submit") Sign up

    // 9) FAQ ACCORDION
    section.py-5
        .container
            h2.text-center.mb-4 Frequently Asked Questions
            .accordion.accordion-flush#faq
                each item, idx in faq
                    .accordion-item
                        h2.accordion-header
                            button.accordion-button.collapsed(
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target=`#f${idx}`
                                aria-expanded="false"
                                aria-controls=`f${idx}`)= item.q
                        div(id=`f${idx}` class="accordion-collapse collapse" data-bs-parent="#faq")
                            .accordion-body= item.a